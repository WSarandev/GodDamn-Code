<html>
<head>
<title>Finding emails</title>
	<link href="styles/js-console.css" rel="stylesheet" />
</head>
<body onload="giveText()">
<button onclick="FindEmEmailz()">Execute function</button>
<div id="js-console"></div>
<script src="scripts/js-console.js"></script>
<script>
function FindEmEmailz() {
var text = '<p>Please visit <a href="http://academy.telerik.com">our site</a> to choose a training course. Also visit <a href="www.devbg.org">our forum</a> to discuss the courses.You can also email your questions to us (for JS questions - telerikJs@gmail.com ) any other questions - telerik@telerikacademy.com s  </p>';
jsConsole.writeLine(text);
var EmailArray=[];
var index = text.indexOf("@");
while(index>0) {
	if (text[index-1]!=" " && text[index+1]!=" ") {
		var identifier = text.substring(text.lastIndexOf(" ", index - 1), index);
		var host = text.substring(index + 1, text.indexOf(".", index + 1));
		var domain = text.substring(text.indexOf(".", index + 1) + 1, text.indexOf(" ", text.indexOf(".", index + 1) + 1));
		var email = identifier + "@" + host + "." + domain;
			EmailArray.push(email);
			index = text.indexOf("@",index+1);
	}
}
jsConsole.writeLine("Emails in text: ");
jsConsole.writeLine("----------------------------------------------------------------------");
for(var i=0; i<EmailArray.length; i++) {
jsConsole.writeLine(EmailArray[i]);
}
}
</script>
</body>
</html>
